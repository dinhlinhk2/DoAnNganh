@model Demo.Models.Sach

@{
	ViewData["Title"] = Model.TenTs;
	Layout = "~/Views/Shared/_Layout.cshtml";
	List<Sach> lsProduct = ViewBag.SanPham;
}

<!-- Begin Main Content Area  -->
<main class="main-content">
	<div class="breadcrumb-area breadcrumb-height" data-bg-image="~/assets/images/breadcrumb/bg/1-1-1920x373.jpg">
		<div class="container h-100">
			<div class="row h-100">
				<div class="col-lg-12">
					<div class="breadcrumb-item">
						<h1 class="breadcrumb-heading">@Model.TenTs</h1>
						<ul>
							<li>
								<a href="/">Home <i class="pe-7s-angle-right"></i></a>
							</li>
							<li>@Model.TenTs</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="single-product-area section-space-top-100">
		<div class="container">
			<div class="row">
				<div class="col-lg-6">
					<div class="single-product-img h-100">
						<div class="swiper-container single-product-slider">
							<div class="swiper-wrapper">
								<div class="swiper-slide">
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
								</div>
								<div class="swiper-slide">
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
								</div>
								<div class="swiper-slide">
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
								</div>
								<div class="swiper-slide">
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
								</div>
							</div>
							<!-- Add Pagination -->
							<div class="swiper-pagination"></div>
						</div>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="product-thumb-with-content row">
						<div class="col-12 order-lg-1 order-2 pt-10 pt-lg-0">
							<div class="single-product-content">
								<h2 class="title">@Model.TenTs</h2>
								<div class="price-box pb-1">
									<span class="new-price text-danger">@Model.Gia.Value.ToString("#,##0") VNĐ</span>
								</div>
								<div class="rating-box-wrap pb-7">
									<div class="rating-box">
										<ul>
											<li><i class="pe-7s-star"></i></li>
											<li><i class="pe-7s-star"></i></li>
											<li><i class="pe-7s-star"></i></li>
											<li><i class="pe-7s-star"></i></li>
											<li><i class="pe-7s-star"></i></li>
										</ul>
									</div>
									<div class="review-status ps-4">
										<a href="javascript:void(0)">( 1 Customer Review )</a>
									</div>
								</div>
								<p class="short-desc mb-6">
									@Model.TenTs
								</p>
								<ul class="quantity-with-btn pb-7">
									<li class="quantity">
										<div class="cart-plus-minus">
											<input id="txtsoLuong" name="txtsoLuong" class="cart-plus-minus-box" value="1" type="text">
										</div>
									</li>
									<li class="add-to-cart">
										<a class="btn btn-custom-size lg-size btn-primary btn-secondary-hover rounded-0"
										   href="javascript:void(0)">Thêm Vào Giỏ</a>
										<input hidden asp-for="MaTs" />
									</li>
									<li class="wishlist-btn-wrap">
										<a class="btn rounded-0" href="wishlist.html">
											<i class="pe-7s-like"></i>
										</a>
									</li>
								</ul>
								<div class="product-category text-matterhorn pb-2">
									<span class="title">Thể Loại :</span>
									<ul>
										<li>
											<a href="/@Model.MaTlNavigation.TenTl">@Model.MaTlNavigation.TenTl</a>
										</li>
									</ul>
								</div>

								<div class="social-link align-items-center pb-lg-8">
									<span class="title pe-3">Share:</span>
									<ul>
										<li>
											<a href="javascript:void(0)">
												<i class="fa fa-pinterest-p"></i>
											</a>
										</li>
										<li>
											<a href="javascript:void(0)">
												<i class="fa fa-twitter"></i>
											</a>
										</li>
										<li>
											<a href="javascript:void(0)">
												<i class="fa fa-tumblr"></i>
											</a>
										</li>
										<li>
											<a href="javascript:void(0)">
												<i class="fa fa-dribbble"></i>
											</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="col-12 order-lg-2 order-1 pt-10 pt-lg-0">
							<div class="swiper-container single-product-thumbs">
								<div class="swiper-wrapper">
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
									<a href="~/images/saches/@Model.Anh" class="single-img gallery-popup">
										<img class="img-full" src="~/images/saches/@Model.Anh" alt="@Model.TenTs">
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="product-slider-area section-space-top-95 section-space-bottom-100">
		<div class="container">
			<div class="section-title text-center pb-55">
				<span class="sub-title text-primary">Có Thể Bạn Quan Tâm</span>
				<h2 class="title mb-0">Sản Phẩm Tương Tự</h2>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="swiper-slider-holder swiper-arrow">
						<div class="swiper-container product-slider border-issue">
							<div class="swiper-wrapper">
								@if (lsProduct != null)
								{
									foreach (var item in lsProduct)
									{
										string url = $"/{item.TenTs}-{item.MaTs}.html";
										<div class="swiper-slide">
											<div class="product-item">
												<div class="product-img img-zoom-effect">
													<a href="@url">
														<img class="img-full" src="~/images/saches/@item.Anh" alt="@item.TenTs">
													</a>
													<div class="product-add-action">
														<ul>
															<li>
																<a href="cart.html">
																	<i class="pe-7s-cart"></i>
																</a>
															</li>
															<li>
																<a href="compare.html">
																	<i class="pe-7s-shuffle"></i>
																</a>
															</li>
															<li>
																<a href="wishlist.html">
																	<i class="pe-7s-like"></i>
																</a>
															</li>
														</ul>
													</div>
												</div>
												<div class="product-content texx">
													<a class="product-name" href="@url">@item.TenTs</a>
													<div class="price-box pb-1">
														<span class="new-price">@item.Gia.Value.ToString("#,##0") VNĐ</span>
													</div>
													<div class="rating-box">
														<ul>
															<li><i class="pe-7s-star"></i></li>
															<li><i class="pe-7s-star"></i></li>
															<li><i class="pe-7s-star"></i></li>
															<li><i class="pe-7s-star"></i></li>
															<li><i class="pe-7s-star"></i></li>
														</ul>
													</div>
												</div>
											</div>
										</div>
									}
								}
							</div>
						</div>
						<!-- Add Arrows -->
						<div class="swiper-button-next"></div>
						<div class="swiper-button-prev"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>
<!-- Main Content Area End Here  -->
@section Scripts{
	<script>
		$(document).ready(function() {
			$(function() {
				$(".add-to-cart").click(function() {
					var productid = $("#MaTs").val();
					var soLuong = $("#txtsoLuong").val();
					$.ajax({
						url: "api/cart/add",
						type: "POST",
						dataType: "JSON",
						data: {
							productID: productid,
							amount: soLuong
						},
						success: function(response) {
							loadHeaderCart();
							location.reload();
						},
						error: function(error) {
							alert("Lỗi" + error.responseText);
						}
					});
				});
			});
			function loadHeaderCart() {
				$("#miniCart").load("/AjaxContent/HeaderCart");
				$("numberCart").load("/AjaxContent/HeaderCart");
			};

		});
	</script>
}
